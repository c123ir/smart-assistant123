# راهنمای توسعه دستیار هوشمند

<div dir="rtl">

## مقدمه

این سند راهنمایی برای توسعه‌دهندگانی است که قصد دارند در پروژه دستیار هوشمند مشارکت کنند. لطفاً قبل از شروع به توسعه، این راهنما را به طور کامل مطالعه کنید.

## پیش‌نیازهای توسعه

- Node.js نسخه 14 یا بالاتر
- npm یا yarn
- Visual Studio Code (توصیه شده) یا هر IDE دیگر
- Git
- SQLite

## راه‌اندازی محیط توسعه

1. ابتدا مخزن کد را clone کنید:
```bash
git clone https://github.com/c123ir/smart-assistant123.git
cd smart-assistant
```

2. وابستگی‌ها را نصب کنید:
```bash
npm install
# یا
yarn install
```

3. محیط توسعه را راه‌اندازی کنید:
```bash
npm run dev
# یا
yarn dev
```

سرور توسعه روی پورت 3123 در آدرس `http://localhost:3123` اجرا خواهد شد.

## ساختار پروژه

```
smart-assistant/
├── src/                    # کد منبع
│   ├── core/               # هسته اصلی برنامه
│   │   ├── db/             # ارتباط با دیتابیس
│   │   │   └── setup.ts    # راه‌اندازی دیتابیس
│   │   └── services/       # سرویس‌های مختلف
│   ├── ui/                 # کامپوننت‌های رابط کاربری
│   │   ├── components/     # کامپوننت‌های React
│   │   └── styles/         # فایل‌های استایل عمومی
│   ├── utils/              # توابع کمکی
│   ├── preload.js          # فایل پیش‌بارگذاری Electron
│   └── main.ts             # نقطه ورود اصلی برنامه
├── data/                   # داده‌ها و دیتابیس
│   ├── db/                 # فایل‌های دیتابیس
│   └── backups/            # پشتیبان‌ها
├── docs/                   # مستندات
├── scripts/                # اسکریپت‌های کمکی
├── package.json            # تنظیمات پروژه
├── tsconfig.json           # تنظیمات TypeScript
├── webpack.config.js       # تنظیمات Webpack
└── README.md               # معرفی پروژه
```

## استانداردهای کدنویسی

### زبان برنامه‌نویسی

- TypeScript برای همه فایل‌های منطق برنامه
- React با TypeScript برای کامپوننت‌های رابط کاربری
- CSS یا SCSS برای استایل

### قوانین نام‌گذاری

- **فایل‌ها**: از PascalCase برای کامپوننت‌ها و camelCase برای سایر فایل‌ها استفاده کنید
  - مثال: `TaskManager.tsx`, `databaseService.ts`
- **کلاس‌ها**: از PascalCase استفاده کنید
  - مثال: `class DatabaseService`
- **متغیرها و توابع**: از camelCase استفاده کنید
  - مثال: `const userId`, `function getUserData()`
- **ثابت‌ها**: از UPPER_SNAKE_CASE استفاده کنید
  - مثال: `const MAX_RETRY_COUNT = 3`
- **اینترفیس‌ها**: با حرف I شروع شوند
  - مثال: `interface ITaskData`
- **تایپ‌ها**: با حرف T شروع شوند
  - مثال: `type TTaskStatus`

### فرمت کد

- از ESLint و Prettier استفاده کنید
- طول خط حداکثر 100 کاراکتر
- از 2 فاصله برای تورفتگی استفاده کنید
- از نقطه ویرگول در انتهای خطوط استفاده کنید
- از single quotes برای رشته‌ها استفاده کنید

### مستندسازی کد

- برای همه کلاس‌ها، اینترفیس‌ها و توابع عمومی از JSDoc استفاده کنید
- هدف و پارامترهای هر تابع را مستند کنید
- برای بخش‌های پیچیده کد، توضیحات اضافه کنید

نمونه مستندسازی:

```typescript
/**
 * نام و توضیح تابع
 * 
 * @param param1 توضیح پارامتر اول
 * @param param2 توضیح پارامتر دوم
 * @returns توضیح مقدار بازگشتی
 */
function myFunction(param1: string, param2: number): boolean {
  // ...
}
```

## الگوهای طراحی

- از معماری سرویس-محور استفاده کنید
- کامپوننت‌های UI را از منطق برنامه جدا نگه دارید
- از Context API برای مدیریت وضعیت استفاده کنید
- از الگوی Singleton برای سرویس‌های مشترک استفاده کنید

## تست

- هر ویژگی جدید باید تست‌های واحد داشته باشد
- برای تست‌های واحد از Jest استفاده کنید
- برای تست‌های کامپوننت از React Testing Library استفاده کنید

## کنترل نسخه

- از Git Flow استفاده کنید
  - `main`: نسخه پایدار محصول
  - `develop`: شاخه اصلی توسعه
  - `feature/*`: شاخه‌های ویژگی جدید
  - `bugfix/*`: شاخه‌های رفع باگ
  - `release/*`: شاخه‌های انتشار

### الگوی کامیت

از الگوی زیر برای پیام‌های کامیت استفاده کنید:

```
نوع: توضیح کوتاه

توضیحات بیشتر در صورت نیاز
```

انواع پیام:
- `feat`: ویژگی جدید
- `fix`: رفع باگ
- `docs`: تغییرات مستندات
- `style`: تغییرات فرمت کد بدون تغییر در منطق
- `refactor`: بازنویسی کد بدون تغییر در عملکرد
- `test`: افزودن یا اصلاح تست‌ها
- `chore`: تغییرات در ابزارها و تنظیمات

## فرآیند توسعه

1. یک issue برای ویژگی یا باگ در سیستم مدیریت پروژه ایجاد کنید
2. یک شاخه جدید از `develop` ایجاد کنید
3. کدهای خود را توسعه دهید و تست کنید
4. کامیت‌های کوچک و منظم داشته باشید
5. کد خود را روی مخزن اصلی push کنید
6. یک درخواست Pull Request (PR) به سمت شاخه `develop` ایجاد کنید
7. منتظر بررسی کد و تأیید PR باشید

## بهترین شیوه‌ها

- کد را تمیز و خوانا نگه دارید
- اصول SOLID را رعایت کنید
- از تکنیک‌های مدیریت خطا استفاده کنید
- به عملکرد برنامه توجه کنید
- داده‌های حساس را به درستی مدیریت کنید
- از الگوهای امنیتی مناسب استفاده کنید

## ارتباطات

برای ارتباط با تیم توسعه می‌توانید از کانال‌های زیر استفاده کنید:
- ایمیل: dev@example.com
- گروه Discord: [لینک]
- جلسات هفتگی: دوشنبه‌ها ساعت 10 صبح

## منابع مفید

- [مستندات TypeScript](https://www.typescriptlang.org/docs/)
- [مستندات React](https://reactjs.org/docs/getting-started.html)
- [مستندات Electron](https://www.electronjs.org/docs)
- [مستندات SQLite](https://sqlite.org/docs.html)

</div> 